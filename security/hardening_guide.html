<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-security/hardening_guide">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<title data-rh="true">CIS Hardening Guide | RKE 2</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rancher.github.io//rke2-docs/security/hardening_guide"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="CIS Hardening Guide | RKE 2"><meta data-rh="true" name="description" content="This document provides prescriptive guidance for hardening a production installation of RKE2. It outlines the configurations and controls required to address Kubernetes benchmark controls from the Center for Information Security (CIS)."><meta data-rh="true" property="og:description" content="This document provides prescriptive guidance for hardening a production installation of RKE2. It outlines the configurations and controls required to address Kubernetes benchmark controls from the Center for Information Security (CIS)."><link data-rh="true" rel="icon" href="/rke2-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://rancher.github.io//rke2-docs/security/hardening_guide"><link data-rh="true" rel="alternate" href="https://rancher.github.io//rke2-docs/security/hardening_guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://rancher.github.io//rke2-docs/security/hardening_guide" hreflang="x-default"><link rel="stylesheet" href="/rke2-docs/assets/css/styles.a104b84c.css">
<link rel="preload" href="/rke2-docs/assets/js/runtime~main.ea4a23c2.js" as="script">
<link rel="preload" href="/rke2-docs/assets/js/main.6a362a69.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rke2-docs/"><div class="navbar__logo"><img src="/rke2-docs/img/logo-horizontal-rke2.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/rke2-docs/img/logo-horizontal-rke2.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__docs navbar__link--active" href="/rke2-docs/">Docs</a><a href="https://github.com/rancher/rke2" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github btn btn-secondary icon-github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rke2-docs/install/install/requirements">Install</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rke2-docs/upgrade">Upgrades</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/rke2-docs/security/about_hardened_images">Security</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/security/about_hardened_images">About Hardened Images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rke2-docs/security/hardening_guide">CIS Hardening Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/security/cis_self_assessment15">CIS 1.5 Self-Assessment Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/security/cis_self_assessment16">CIS 1.6 Self-Assessment Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/security/fips_support">FIPS 140-2 Enablement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/security/policies">Default Policy Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/security/selinux">SELinux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/security/secrets_encryption">Secrets Encryption</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rke2-docs/architecture">Architecture</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/cluster_access">Cluster Access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/backup_restore">Etcd Backup and Restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/networking">Networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/helm">Helm Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/advanced">Advanced Options and Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/known_issues">Known Issues and Limitations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/subcommands">Subcommands</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rke2-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Security</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">CIS Hardening Guide</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>CIS Hardening Guide</h1><p>This document provides prescriptive guidance for hardening a production installation of RKE2. It outlines the configurations and controls required to address Kubernetes benchmark controls from the Center for Information Security (CIS).</p><p>For more detail about evaluating a hardened cluster against the official CIS benchmark, refer to the CIS Benchmark Rancher Self-Assessment Guide <a href="/rke2-docs/security/cis_self_assessment15">v1.5</a> or <a href="/rke2-docs/security/cis_self_assessment16">v1.6</a>.</p><p>RKE2 is designed to be &quot;hardened by default&quot; and pass the majority of the Kubernetes CIS controls without modification. There are a few notable exceptions to this that require manual intervention to fully pass the CIS Benchmark:</p><ol><li>RKE2 will not modify the host operating system. Therefore, you, the operator, must make a few Host-level modifications.</li><li>Certain CIS policy controls for PodSecurityPolicies and NetworkPolicies will restrict the functionality of this cluster. You must opt into having RKE2 configuring these out of the box.</li></ol><p>To help ensure these above requirements are met, RKE2 can be started with the <code>profile</code> flag set to <code>cis-1.5</code> or <code>cis-1.6</code>. This flag generally does two things:</p><ol><li>Checks that host-level requirements have been met. If they haven&#x27;t, RKE2 will exit with a fatal error describing the unmet requirements.</li><li>Configures runtime Pod Security Policies and Network Policies that allow the cluster to pass associated controls.</li></ol><blockquote><p><strong>Note:</strong> The profile&#x27;s flag only valid values are <code>cis-1.5</code> or <code>cis-1.6</code>. It accepts a string value to allow for other profiles in the future.</p></blockquote><p>The following section outlines the specific actions that are taken when the <code>profile</code> flag is set to <code>cis-1.5</code> or <code>cis-1.6</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="host-level-requirements">Host-level Requirements<a class="hash-link" href="#host-level-requirements" title="Direct link to heading">​</a></h2><p>There are two areas of Host-level requirements: kernel parameters and etcd process/directory configuration. These are outlined in this section.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ensure-protect-kernel-defaults-is-set">Ensure <code>protect-kernel-defaults</code> is set<a class="hash-link" href="#ensure-protect-kernel-defaults-is-set" title="Direct link to heading">​</a></h3><p>This is a kubelet flag that will cause the kubelet to exit if the required kernel parameters are unset or are set to values that are different from the kubelet&#x27;s defaults.</p><p>When the <code>profile</code> flag is set, RKE2 will set the flag to true.</p><blockquote><p><strong>Note:</strong> <code>protect-kernel-defaults</code> is exposed a top-level flag for RKE2. If you have set <code>profile</code> to &quot;cis-1.x&quot; and <code>protect-kernel-defaults</code> to false explicitly, RKE2 will exit with an error.</p></blockquote><p>RKE2 will also check the same kernel parameters that the kubelet does and exit with an error following the same rules as the kubelet. This is done as a convenience to help the operator more quickly and easily identify what kernel parameters are violating the kubelet defaults.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ensure-etcd-is-started-properly">Ensure etcd is started properly<a class="hash-link" href="#ensure-etcd-is-started-properly" title="Direct link to heading">​</a></h3><p>The CIS Benchmark requires that the etcd data directory be owned by the <code>etcd</code> user and group. This implicitly requires the etcd process to be ran as the host-level <code>etcd</code> user. To achieve this, RKE2 takes several steps when started with the cis-1.5 profile:</p><ol><li>Check that the <code>etcd</code> user and group exists on the host. If they don&#x27;t, exit with an error.</li><li>Create etcd&#x27;s data directory with <code>etcd</code> as the user and group owner.</li><li>Ensure the etcd process is ran as the <code>etcd</code> user and group by setting the etcd static pod&#x27;s SecurityContext appropriately.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-hosts">Setting up hosts<a class="hash-link" href="#setting-up-hosts" title="Direct link to heading">​</a></h3><p>This section gives you the commands necessary to configure your host to meet the above requirements.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="set-kernel-parameters">Set kernel parameters<a class="hash-link" href="#set-kernel-parameters" title="Direct link to heading">​</a></h4><p>When RKE2 is installed, it creates a sysctl config file to set the required parameters appropriately.
However, it does not automatically configure the Host to use this configuration. You must do this manually.
The location of the config file depends on the installation method used.</p><p>If RKE2 was installed via RPM, YUM, or DNF (the default on OSes that use RPMs, such as CentOS), run the following command(s):</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> -f /usr/share/rke2/rke2-cis-sysctl.conf /etc/sysctl.d/60-rke2-cis.conf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl restart systemd-sysctl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If RKE2 was installed via the tarball (the default on OSes that do not use RPMs, such as Ubuntu), run the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> -f /usr/local/share/rke2/rke2-cis-sysctl.conf /etc/sysctl.d/60-rke2-cis.conf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl restart systemd-sysctl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If your system lacks the <code>systemd-sysctl.service</code> and/or the <code>/etc/sysctl.d</code> directory you will want to make sure the
sysctls are applied at boot by running the following command during start-up:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sysctl -p /usr/local/share/rke2/rke2-cis-sysctl.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Please perform this step only on fresh installations, before actually using RKE2 to deploy Kubernetes. Many
Kubernetes components, including CNI plugins, are setting up their own sysctls. Restarting the
<code>systemd-sysctl</code> service on a running Kubernetes cluster can result in unexpected side-effects.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-the-etcd-user">Create the etcd user<a class="hash-link" href="#create-the-etcd-user" title="Direct link to heading">​</a></h4><p>On some Linux distributions, the <code>useradd</code> command will not create a group. The <code>-U</code> flag is included below to account for that. This flag tells <code>useradd</code> to create a group with the same name as the user.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">useradd</span><span class="token plain"> -r -c </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;etcd user&quot;</span><span class="token plain"> -s /sbin/nologin -M etcd -U</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-runtime-requirements">Kubernetes Runtime Requirements<a class="hash-link" href="#kubernetes-runtime-requirements" title="Direct link to heading">​</a></h2><p>The runtime requirements to pass the CIS Benchmark are centered around pod security and network policies. These are outlined in this section.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="podsecuritypolicies">PodSecurityPolicies<a class="hash-link" href="#podsecuritypolicies" title="Direct link to heading">​</a></h3><p>RKE2 always runs with the PodSecurityPolicy admission controller turned on. However, when it is <strong>not</strong> started with the cis-1.5 profile, RKE2 will put an unrestricted policy in place that allows Kubernetes to run as though the PodSecurityPolicy admission controller was not enabled.</p><p>When ran with the cis-1.5 profile, RKE2 will put a much more restrictive set of policies in place. These policies meet the requirements outlined in section 5.2 of the CIS Benchmark.</p><blockquote><p><strong>Note:</strong> The Kubernetes control plane components and critical additions such as CNI, DNS, and Ingress are ran as pods in the <code>kube-system</code> namespace. Therefore, this namespace will have a policy that is less restrictive so that these components can run properly.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="networkpolicies">NetworkPolicies<a class="hash-link" href="#networkpolicies" title="Direct link to heading">​</a></h3><p>When ran with the cis-1.5 profile, RKE2 will put NetworkPolicies in place that passes the CIS Benchmark for Kubernetes&#x27;s built-in namespaces. These namespaces are: <code>kube-system</code>, <code>kube-public</code>, <code>kube-node-lease</code>, and <code>default</code>.</p><p>The NetworkPolicy used will only allow pods within the same namespace to talk to each other. The notable exception to this is that it allows DNS requests to be resolved.</p><blockquote><p><strong>Note:</strong> Operators must manage network policies as normal for additional namespaces that are created.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="known-issues">Known Issues<a class="hash-link" href="#known-issues" title="Direct link to heading">​</a></h2><p>The following are controls that RKE2 currently does not pass. Each gap will be explained and whether it can be passed through manual operator intervention or if it will be addressed in a future release.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">​</a></h2><p>If you have followed this guide, your RKE2 cluster will be configured to pass the CIS Kubernetes Benchmark. You can review our CIS Benchmark Self-Assessment Guide <a href="/rke2-docs/security/cis_self_assessment15">v1.5</a> or <a href="/rke2-docs/security/cis_self_assessment16">v1.6</a> to understand how we verified each of the benchmarks and how you can do the same on your cluster.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/kubewarden/docs/edit/main/docs/security/hardening_guide.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-27T04:52:19.000Z">9/27/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/rke2-docs/security/about_hardened_images"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">About Hardened Images</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rke2-docs/security/cis_self_assessment15"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CIS 1.5 Self-Assessment Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#host-level-requirements" class="table-of-contents__link toc-highlight">Host-level Requirements</a><ul><li><a href="#ensure-protect-kernel-defaults-is-set" class="table-of-contents__link toc-highlight">Ensure <code>protect-kernel-defaults</code> is set</a></li><li><a href="#ensure-etcd-is-started-properly" class="table-of-contents__link toc-highlight">Ensure etcd is started properly</a></li><li><a href="#setting-up-hosts" class="table-of-contents__link toc-highlight">Setting up hosts</a></li></ul></li><li><a href="#kubernetes-runtime-requirements" class="table-of-contents__link toc-highlight">Kubernetes Runtime Requirements</a><ul><li><a href="#podsecuritypolicies" class="table-of-contents__link toc-highlight">PodSecurityPolicies</a></li><li><a href="#networkpolicies" class="table-of-contents__link toc-highlight">NetworkPolicies</a></li></ul></li><li><a href="#known-issues" class="table-of-contents__link toc-highlight">Known Issues</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/rke2-docs/assets/js/runtime~main.ea4a23c2.js"></script>
<script src="/rke2-docs/assets/js/main.6a362a69.js"></script>
</body>
</html>