<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-install/requirements">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<title data-rh="true">Requirements | RKE 2</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rancher.github.io//rke2-docs/install/requirements"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Requirements | RKE 2"><meta data-rh="true" name="description" content="RKE2 is very lightweight, but has some minimum requirements as outlined below."><meta data-rh="true" property="og:description" content="RKE2 is very lightweight, but has some minimum requirements as outlined below."><link data-rh="true" rel="icon" href="/rke2-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://rancher.github.io//rke2-docs/install/requirements"><link data-rh="true" rel="alternate" href="https://rancher.github.io//rke2-docs/install/requirements" hreflang="en"><link data-rh="true" rel="alternate" href="https://rancher.github.io//rke2-docs/install/requirements" hreflang="x-default"><link rel="stylesheet" href="/rke2-docs/assets/css/styles.75a9f7b6.css">
<link rel="preload" href="/rke2-docs/assets/js/runtime~main.206aa0ea.js" as="script">
<link rel="preload" href="/rke2-docs/assets/js/main.9b7896b8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rke2-docs/"><div class="navbar__logo"><img src="/rke2-docs/img/logo-horizontal-rke2.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/rke2-docs/img/logo-horizontal-rke2.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__docs navbar__link--active" href="/rke2-docs/">Docs</a><a href="https://github.com/rancher/rke2" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github btn btn-secondary icon-github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/rke2-docs/install/quickstart">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/install/quickstart">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rke2-docs/install/requirements">Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/install/configuration">Configuration Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/install/network_options">Network Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/install/ha">High Availability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/install/methods">Installation Methods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/install/containerd_registry_configuration">Containerd Registry Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/install/airgap">Air-Gap Install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/install/windows_airgap">Windows Air-Gap Install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/install/linux_uninstall">Linux Uninstall</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rke2-docs/install/windows_uninstall">Windows Uninstall</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rke2-docs/upgrade">Upgrades</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rke2-docs/security/about_hardened_images">Security</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/cluster_access">Cluster Access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/backup_restore">Etcd Backup and Restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/networking">Networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/helm">Helm Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/advanced">Advanced Options and Configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rke2-docs/reference/linux_agent_config">Reference</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rke2-docs/known_issues">Known Issues and Limits</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rke2-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Installation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Requirements</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Requirements</h1></header><p>RKE2 is very lightweight, but has some minimum requirements as outlined below.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h2><p>Two nodes cannot have the same hostname.</p><p>If all your nodes have the same hostname, set the <code>node-name</code> parameter in the RKE2 config file for each node you add to the cluster to have a different node name.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="operating-systems">Operating Systems<a class="hash-link" href="#operating-systems" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux">Linux<a class="hash-link" href="#linux" title="Direct link to heading">​</a></h3><p>RKE2 has been tested and validated on the following operating systems, and their subsequent non-major releases:</p><ul><li>Ubuntu 18.04 and 20.04 (amd64)</li><li>CentOS/RHEL 7.8 (amd64)</li><li>Rocky/RHEL 8.5 (amd64)</li><li>SLES 15 SP3, OpenSUSE, SLE Micro 5.1 (amd64)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a class="hash-link" href="#windows" title="Direct link to heading">​</a></h3><p><strong>Windows Support is currently Experimental as of v1.21.3+rke2r1</strong>
<strong>Windows Support requires choosing Calico as the CNI for the RKE2 cluster</strong></p><p>The RKE2 Windows Node (Worker) agent has been tested and validated on the following operating systems, and their subsequent non-major releases:</p><ul><li>Windows Server 2019 LTSC (amd64) (OS Build 17763.2061)</li><li>Windows Server 2022 LTSC (amd64) (OS Build 20348.169)</li></ul><p><strong>Note</strong> The Windows Server Containers feature needs to be enabled for the RKE2 Windows agent to work.</p><p>Open a new Powershell window with Administrator privileges</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">powershell -Command &quot;Start-Process PowerShell -Verb RunAs&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the new Powershell window, run the following command.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Enable-WindowsOptionalFeature -Online -FeatureName Containers –All</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will require a reboot for the <code>Containers</code> feature to properly function.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hardware">Hardware<a class="hash-link" href="#hardware" title="Direct link to heading">​</a></h2><p>Hardware requirements scale based on the size of your deployments. Minimum recommendations are outlined here.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linuxwindows">Linux/Windows<a class="hash-link" href="#linuxwindows" title="Direct link to heading">​</a></h3><ul><li>RAM: 4GB Minimum (we recommend at least 8GB)</li><li>CPU: 2 Minimum (we recommend at least 4CPU)</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="disks">Disks<a class="hash-link" href="#disks" title="Direct link to heading">​</a></h4><p>RKE2 performance depends on the performance of the database, and since RKE2 runs etcd embeddedly and it stores the data dir on disk, we recommend using an SSD when possible to ensure optimal performance.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="networking">Networking<a class="hash-link" href="#networking" title="Direct link to heading">​</a></h2><p><strong>Important:</strong> If your node has NetworkManager installed and enabled, <a href="/rke2-docs/known_issues#networkmanager">ensure that it is configured to ignore CNI-managed interfaces.</a>. If your node has Wicked installed and enabled, <a href="/rke2-docs/known_issues#wicked">ensure that the forwarding sysctl config is enabled</a></p><p>The RKE2 server needs port 6443 and 9345 to be accessible by other nodes in the cluster.</p><p>All nodes need to be able to reach other nodes over UDP port 8472 when Flannel VXLAN is used.</p><p>If you wish to utilize the metrics server, you will need to open port 10250 on each node.</p><p><strong>Important:</strong> The VXLAN port on nodes should not be exposed to the world as it opens up your cluster network to be accessed by anyone. Run your nodes behind a firewall/security group that disables access to port 8472.</p><p><em>Inbound Rules for RKE2 Server Nodes</em></p><table><thead><tr><th>Protocol</th><th>Port</th><th>Source</th><th>Description</th></tr></thead><tbody><tr><td>TCP</td><td>9345</td><td>RKE2 agent nodes</td><td>Kubernetes API</td></tr><tr><td>TCP</td><td>6443</td><td>RKE2 agent nodes</td><td>Kubernetes API</td></tr><tr><td>UDP</td><td>8472</td><td>RKE2 server and agent nodes</td><td>Required only for Flannel VXLAN</td></tr><tr><td>TCP</td><td>10250</td><td>RKE2 server and agent nodes</td><td>kubelet</td></tr><tr><td>TCP</td><td>2379</td><td>RKE2 server nodes</td><td>etcd client port</td></tr><tr><td>TCP</td><td>2380</td><td>RKE2 server nodes</td><td>etcd peer port</td></tr><tr><td>TCP</td><td>30000-32767</td><td>RKE2 server and agent nodes</td><td>NodePort port range</td></tr><tr><td>UDP</td><td>8472</td><td>RKE2 server and agent nodes</td><td>Cilium CNI VXLAN</td></tr><tr><td>TCP</td><td>4240</td><td>RKE2 server and agent nodes</td><td>Cilium CNI health checks</td></tr><tr><td>ICMP</td><td>8/0</td><td>RKE2 server and agent nodes</td><td>Cilium CNI health checks</td></tr><tr><td>TCP</td><td>179</td><td>RKE2 server and agent nodes</td><td>Calico CNI with BGP</td></tr><tr><td>UDP</td><td>4789</td><td>RKE2 server and agent nodes</td><td>Calico CNI with VXLAN</td></tr><tr><td>TCP</td><td>5473</td><td>RKE2 server and agent nodes</td><td>Calico CNI with Typha</td></tr><tr><td>TCP</td><td>9098</td><td>RKE2 server and agent nodes</td><td>Calico Typha health checks</td></tr><tr><td>TCP</td><td>9099</td><td>RKE2 server and agent nodes</td><td>Calico health checks</td></tr><tr><td>TCP</td><td>5473</td><td>RKE2 server and agent nodes</td><td>Calico CNI with Typha</td></tr><tr><td>UDP</td><td>8472</td><td>RKE2 server and agent nodes</td><td>Canal CNI with VXLAN</td></tr><tr><td>TCP</td><td>9099</td><td>RKE2 server and agent nodes</td><td>Canal CNI health checks</td></tr><tr><td>UDP</td><td>51820</td><td>RKE2 server and agent nodes</td><td>Canal CNI with WireGuard IPv4</td></tr><tr><td>UDP</td><td>51821</td><td>RKE2 server and agent nodes</td><td>Canal CNI with WireGuard IPv6/dual-stack</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="windows-specific-inbound-network-rules">Windows Specific Inbound Network Rules<a class="hash-link" href="#windows-specific-inbound-network-rules" title="Direct link to heading">​</a></h3><table><thead><tr><th>Protocol</th><th>Port</th><th>Source</th><th>Description</th></tr></thead><tbody><tr><td>UDP</td><td>4789</td><td>RKE2 server nodes</td><td>Required for Calico and Flannel VXLAN</td></tr></tbody></table><p>Typically, all outbound traffic will be allowed.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rke2-docs/edit/main/docs/install/requirements.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-11-18T17:30:27.000Z">11/18/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/rke2-docs/install/quickstart"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Quick Start</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rke2-docs/install/configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration Options</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#operating-systems" class="table-of-contents__link toc-highlight">Operating Systems</a><ul><li><a href="#linux" class="table-of-contents__link toc-highlight">Linux</a></li><li><a href="#windows" class="table-of-contents__link toc-highlight">Windows</a></li></ul></li><li><a href="#hardware" class="table-of-contents__link toc-highlight">Hardware</a><ul><li><a href="#linuxwindows" class="table-of-contents__link toc-highlight">Linux/Windows</a></li></ul></li><li><a href="#networking" class="table-of-contents__link toc-highlight">Networking</a><ul><li><a href="#windows-specific-inbound-network-rules" class="table-of-contents__link toc-highlight">Windows Specific Inbound Network Rules</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/rke2-docs/assets/js/runtime~main.206aa0ea.js"></script>
<script src="/rke2-docs/assets/js/main.9b7896b8.js"></script>
</body>
</html>